<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BillSplit Dashboard</title>
  <link rel="stylesheet" href="../Public/CSS/dashboard.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="dashboard-app">
    <aside class="app-sidebar">
      <div class="sidebar-brand">
        <span class="brand-mark"><i class="fas fa-receipt"></i></span>
        <div>
          <h1>BillSplit</h1>
          <p>Shared expenses, simplified.</p>
        </div>
      </div>
      <div class="sidebar-section">
        <div class="section-head">
          <h2>Workspace</h2>
        </div>
        <ul class="menu-list">
          <li class="menu-item is-active"><i class="fas fa-gauge"></i>Overview</li>
          <li class="menu-item"><i class="fas fa-chart-simple"></i>Insights</li>
          <li class="menu-item"><i class="fas fa-wallet"></i>All expenses</li>
        </ul>
      </div>
      <div class="sidebar-section">
        <div class="section-head">
          <h2>Groups</h2>
          <button id="new-group-btn" class="pill-button"><i class="fas fa-plus"></i> New</button>
        </div>
        <ul class="group-list" id="group-list">
          <li class="empty-state">No groups yet. Create one to get started!</li>
        </ul>
      </div>
    </aside>

    <main class="app-main">
      <header class="main-header">
        <div class="header-left">
          <h2>Dashboard</h2>
          <p>Stay in sync with everyone you share expenses with.</p>
        </div>
        <div class="header-right">
          <button id="add-expense-btn" class="primary-btn" disabled>
            <i class="fas fa-plus"></i>
            Record expense
          </button>
          <button id="settle-up-btn" class="secondary-btn" disabled>
            <i class="fas fa-hand-holding-dollar"></i>
            Settle up
          </button>
          <div class="user-profile">
            <span>John Doe</span>
            <i class="fas fa-angle-down"></i>
          </div>
        </div>
      </header>

      <section class="insight-row">
        <article class="insight-card">
          <p>Your balance</p>
          <h3 class="balance-amount neutral">‚Ç±0.00</h3>
          <small>Across all groups</small>
        </article>
        <article class="insight-card">
          <p>Active groups</p>
          <h3 id="active-groups-count">0</h3>
          <small>Managed today</small>
        </article>
        <article class="insight-card">
          <p>Outstanding</p>
          <h3 id="outstanding-total">‚Ç±0.00</h3>
          <small>Awaiting payment</small>
        </article>
      </section>

      <section class="panel-grid">
        <article class="panel stretch">
          <header class="panel-header">
            <div>
              <h3 id="current-group-name">Select a group</h3>
              <p>Choose a group from the list to view details.</p>
            </div>
            <div class="panel-actions">
              <button id="group-settings-btn" class="icon-btn" title="Group settings">
                <i class="fas fa-gear"></i>
              </button>
            </div>
          </header>
          <div class="panel-body two-column">
            <div class="panel-block">
              <h4>Recent activity</h4>
              <ul class="activity-feed" id="activity-list">
                <li class="empty-state">No activity yet. Add an expense to get started!</li>
              </ul>
            </div>
            <div class="panel-block">
              <h4>People & balances</h4>
              <div class="panel-tools">
                <button id="add-member-btn" class="icon-btn" disabled title="Add member">
                  <i class="fas fa-user-plus"></i>
                </button>
              </div>
              <ul class="member-list" id="member-list">
                <li class="empty-state">Select a group to see members.</li>
              </ul>
              <div class="panel-divider"></div>
              <h5>Outstanding balances</h5>
              <ul class="balance-list" id="balances-list">
                <li class="empty-state">No balances to show.</li>
              </ul>
            </div>
          </div>
        </article>

        <article class="panel">
          <header class="panel-header">
            <div>
              <h3>Expense summary</h3>
              <p>Live breakdown of your shared costs.</p>
            </div>
            <button class="icon-btn" title="Download report">
              <i class="fas fa-arrow-down"></i>
            </button>
          </header>
          <div class="panel-body">
            <div class="chart-wrapper">
              <canvas id="expense-chart"></canvas>
            </div>
          </div>
        </article>
      </section>
    </main>
  </div>

  <div class="modal" id="new-group-modal">
    <div class="modal-content">
      <header>
        <h2>Create a new group</h2>
        <button class="close-btn"><i class="fas fa-times"></i></button>
      </header>
      <form id="new-group-form" class="modal-body">
        <label class="form-field">
          <span>Group name</span>
          <input type="text" id="group-name" placeholder="Roommates, trip to Cebu, project team‚Ä¶" required>
        </label>
        <label class="form-field">
          <span>Currency</span>
          <select id="group-currency" required>
            <option value="PHP">PHP (‚Ç±)</option>
            <option value="USD">USD ($)</option>
            <option value="EUR">EUR (‚Ç¨)</option>
            <option value="GBP">GBP (¬£)</option>
            <option value="INR">INR (‚Çπ)</option>
          </select>
        </label>
        <footer>
          <button type="button" class="ghost-btn modal-cancel">Cancel</button>
          <button type="submit" class="primary-btn">Create group</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="modal" id="expense-modal">
    <div class="modal-content wide">
      <header>
        <h2>Add expense</h2>
        <button class="close-btn"><i class="fas fa-times"></i></button>
      </header>
      <form id="expense-form" class="modal-body">
        <div class="form-grid">
          <label class="form-field">
            <span>Description</span>
            <input type="text" id="expense-description" placeholder="Dinner, utilities, tickets‚Ä¶" required>
          </label>
          <label class="form-field">
            <span>Amount</span>
            <input type="number" id="expense-amount" min="0.01" step="0.01" placeholder="0.00" required>
          </label>
        </div>
        <div class="form-grid">
          <label class="form-field">
            <span>Paid by</span>
            <select id="expense-payer" required></select>
          </label>
          <label class="form-field">
            <span>Category</span>
            <select id="expense-category" required>
              <option value="food">üçï Food</option>
              <option value="transport">üöó Transport</option>
              <option value="shopping">üõçÔ∏è Shopping</option>
              <option value="housing">üè† Housing</option>
              <option value="entertainment">üé¨ Entertainment</option>
              <option value="other">‚ùì Other</option>
            </select>
          </label>
        </div>
        <label class="form-field">
          <span>Date</span>
          <input type="date" id="expense-date" required>
        </label>
        <div class="split-card">
          <div class="split-head">
            <span>Split between</span>
            <div class="split-toggle">
              <button type="button" class="split-method-btn active" data-method="equal">Equal</button>
              <button type="button" class="split-method-btn" data-method="percentage">Percentage</button>
              <button type="button" class="split-method-btn" data-method="custom">Custom</button>
            </div>
          </div>
          <div class="split-body" id="split-details"></div>
        </div>
        <footer>
          <button type="button" class="ghost-btn modal-cancel">Cancel</button>
          <button type="submit" class="primary-btn">Add expense</button>
        </footer>
      </form>
    </div>
  </div>

  <div id="toast-container" class="toast-container"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../Public/JS/dashboard.js"></script>
</body>
</html>